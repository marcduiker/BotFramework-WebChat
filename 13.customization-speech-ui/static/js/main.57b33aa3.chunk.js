(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1081:function(e,t){},1091:function(e,t){},1092:function(e,t){},1093:function(e,t){},1108:function(e,t){},1115:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n.n(c),i=n(194),o=n.n(i),s=(n(407),n(196)),u=n.n(s),l=n(394),m=n(395),p=n(396),h=n(400),f=n(397),d=n(401),C=(n(409),n(40)),v=C.Components.connectDictationInterims,b=C.Constants.DictateState,w=b.DICTATING,y=b.STARTING,L=v()(function(e){var t=e.className,n=e.dictateInterims,a=e.dictateState;return(a===y||a===w)&&!!n.length&&r.a.createElement("p",{className:t},n.map(function(e,t){return r.a.createElement("span",{key:t},e,"\xa0")}))}),k=n(11),E=n.n(k),S=function(e){var t=e.className,n=e.size,a=void 0===n?22:n;return r.a.createElement("svg",{className:(t||"")+"",height:a,viewBox:"0 0 58 58",width:a},r.a.createElement("path",{d:"M 44 28 C 43.448 28 43 28.447 43 29 L 43 35 C 43 42.72 36.72 49 29 49 C 21.28 49 15 42.72 15 35 L 15 29 C 15 28.447 14.552 28 14 28 C 13.448 28 13 28.447 13 29 L 13 35 C 13 43.485 19.644 50.429 28 50.949 L 28 56 L 23 56 C 22.448 56 22 56.447 22 57 C 22 57.553 22.448 58 23 58 L 35 58 C 35.552 58 36 57.553 36 57 C 36 56.447 35.552 56 35 56 L 30 56 L 30 50.949 C 38.356 50.429 45 43.484 45 35 L 45 29 C 45 28.447 44.552 28 44 28 Z"}),r.a.createElement("path",{d:"M 28.97 44.438 L 28.97 44.438 C 23.773 44.438 19.521 40.033 19.521 34.649 L 19.521 11.156 C 19.521 5.772 23.773 1.368 28.97 1.368 L 28.97 1.368 C 34.166 1.368 38.418 5.772 38.418 11.156 L 38.418 34.649 C 38.418 40.033 34.166 44.438 28.97 44.438 Z"}),r.a.createElement("path",{d:"M 29 46 C 35.065 46 40 41.065 40 35 L 40 11 C 40 4.935 35.065 0 29 0 C 22.935 0 18 4.935 18 11 L 18 35 C 18 41.065 22.935 46 29 46 Z M 20 11 C 20 6.037 24.038 2 29 2 C 33.962 2 38 6.037 38 11 L 38 35 C 38 39.963 33.962 44 29 44 C 24.038 44 20 39.963 20 35 L 20 11 Z"}))},g=(0,C.Components.connectMicrophoneButton)()(function(e){var t=e.className,n=e.click,a=e.dictating,c=e.disabled;return r.a.createElement("button",{className:E()(t,{dictating:a}),disabled:c,onClick:n},r.a.createElement(S,{size:"10vmin"}))}),N=0,j=function(){var e=Date.now();return(!a||e-N>3e5)&&(a=fetch("https://webchat-mockbot.azurewebsites.net/speechservices/token",{method:"POST"}).then(function(e){return e.json()}).then(function(e){return e.token}).catch(function(){N=0}),N=e),a},O=C.Components.SpeakActivity,A=Object(C.connectToWebChat)(function(e){return{activity:e.activities.slice().reverse().find(function(e){var t=e.from.role,n=e.type;return"bot"===t&&"message"===n})}})(function(e){var t=e.activity;return!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t.text),t.channelData&&t.channelData.speak&&r.a.createElement(O,{activity:t}))}),D=C.Components.Composer,T=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={directLine:null,webSpeechPonyfillFactory:null},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t,n,a,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://webchat-mockbot.azurewebsites.net/directline/token",{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=n.token,e.next=9,Object(C.createCognitiveServicesSpeechServicesPonyfillFactory)({authorizationToken:j,region:"westus"});case 9:c=e.sent,this.setState(function(){return{directLine:Object(C.createDirectLine)({token:a}),webSpeechPonyfillFactory:c}});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.directLine,n=e.webSpeechPonyfillFactory;return!!t&&!!n&&r.a.createElement(D,{directLine:t,webSpeechPonyfillFactory:n},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(g,{className:"App-speech-button"}),r.a.createElement(L,{className:"App-speech-interims"}),r.a.createElement(A,{className:"App-bot-activity"}))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},402:function(e,t,n){e.exports=n(1115)},407:function(e,t,n){},409:function(e,t,n){},512:function(e,t){},514:function(e,t){},551:function(e,t){},552:function(e,t){}},[[402,1,2]]]);
//# sourceMappingURL=main.57b33aa3.chunk.js.map